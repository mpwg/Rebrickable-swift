[![CI](https://github.com/mpwg/Rebrickable-swift/actions/workflows/ci.yml/badge.svg)](https://github.com/mpwg/Rebrickable-swift/actions/workflows/ci.yml)
[![CodeqQL](https://github.com/mpwg/Rebrickable-swift/actions/workflows/codeql.yml/badge.svg)](https://github.com/mpwg/Rebrickable-swift/actions/workflows/codeql.yml)
[![Dependabot Updates](https://github.com/mpwg/Rebrickable-swift/actions/workflows/dependabot/dependabot-updates/badge.svg)](https://github.com/mpwg/Rebrickable-swift/actions/workflows/dependabot/dependabot-updates)

[![License: AGPL v3](https://img.shields.io/badge/License-AGPL%20v3-blue.svg)](https://www.gnu.org/licenses/agpl-3.0)
[![Swift 6.1](https://img.shields.io/badge/Swift-6.1-orange.svg?logo=swift&logoColor=f5f5f5)](https://swift.org)
[![iOS](https://img.shields.io/badge/iOS-17+-lightgrey.svg?logo=apple)](https://developer.apple.com)
[![macOS](https://img.shields.io/badge/macOS-14+-lightgrey.svg?logo=apple)](https://developer.apple.com)

# Swift6 API client for RebrickableLegoAPIClient

Manually fixed swift Wrapper for Rebrickable's LegoAPI (created with Openapi Generator <https://github.com/openapitools/openapi-generator>)

## Overview

This API client was generated by the [OpenAPI Generator](https://openapi-generator.tech) project.  By using the [openapi-spec](https://github.com/OAI/OpenAPI-Specification) from a remote server, you can easily generate an API client.

- API version: v3
- Package version: 0.1.0
- Generator version: 7.15.0
- Build package: org.openapitools.codegen.languages.Swift6ClientCodegen

## Build & validation

Minimum toolchain and quick local validation steps used by the project and CI.

1. Toolchain

- Required: Swift 6.1.x (CI and the package are tested against Swift 6.1). Verify with `swift --version`.

2. Bootstrap / dependency resolution

- Run: `swift package resolve`
- If you hit cache or artifact issues: `swift package clean` then `swift package resolve`.

3. Build

- Local debug build: `swift build --configuration debug`

4. Tests

- Tests call the real Rebrickable API and are guarded by an API key. Export the key before running network tests:

- macOS/zsh example: `export REBRICKABLE_API_KEY="<your_api_key_here>"`

- Run tests: `swift test --configuration debug`

- Note: The test suite checks `ProcessInfo.processInfo.environment["REBRICKABLE_API_KEY"]` and will skip network tests when the variable is not set.

CI: The repository's CI workflow (`.github/workflows/ci.yml`) follows these same steps: resolve, build, and run tests on `macos-latest` with Swift 6.1.

## Notes / Known pitfalls

- API key handling: the client exposes `RebrickableLegoAPIClientAPIConfiguration.shared.apiKey` (you can also create a `RebrickableLegoAPIClientAPIConfiguration(apiKey:)`) — the header sent is `authorization: key <API_KEY>`.
- Network tests: tests are integration-style and hit [Rebrickable](https://rebrickable.com). They require network connectivity and valid credentials; if you don't want to run them locally, leave `REBRICKABLE_API_KEY` unset and the tests will be skipped.
- Toolchain mismatch: CI uses Swift 6.1; using a different Swift toolchain is the most common source of failures. Match `swift --version` where possible.
- Generated code: most sources were generated from OpenAPI. Prefer small edits and avoid large refactors across generated files.

## Documentation for API Endpoints

All URIs are relative to *<https://rebrickable.com>*

Class | Method | HTTP request | Description
------------ | ------------- | ------------- | -------------
*LegoAPI* | [**legoColorsList**](docs/LegoAPI.md#legocolorslist) | **GET** /api/v3/lego/colors/ | Get a list of all Colors.
*LegoAPI* | [**legoColorsRead**](docs/LegoAPI.md#legocolorsread) | **GET** /api/v3/lego/colors/{id}/ | Get details about a specific Color.
*LegoAPI* | [**legoElementsRead**](docs/LegoAPI.md#legoelementsread) | **GET** /api/v3/lego/elements/{element_id}/ | Get details about a specific Element ID.
*LegoAPI* | [**legoMinifigsList**](docs/LegoAPI.md#legominifigslist) | **GET** /api/v3/lego/minifigs/ | Get a list of Minifigs.
*LegoAPI* | [**legoMinifigsPartsList**](docs/LegoAPI.md#legominifigspartslist) | **GET** /api/v3/lego/minifigs/{set_num}/parts/ | Get a list of all Inventory Parts in this Minifig.
*LegoAPI* | [**legoMinifigsRead**](docs/LegoAPI.md#legominifigsread) | **GET** /api/v3/lego/minifigs/{set_num}/ | Get details for a specific Minifig.
*LegoAPI* | [**legoMinifigsSetsList**](docs/LegoAPI.md#legominifigssetslist) | **GET** /api/v3/lego/minifigs/{set_num}/sets/ | Get a list of Sets a Minifig has appeared in.
*LegoAPI* | [**legoPartCategoriesList**](docs/LegoAPI.md#legopartcategorieslist) | **GET** /api/v3/lego/part_categories/ | Get a list of all Part Categories.
*LegoAPI* | [**legoPartCategoriesRead**](docs/LegoAPI.md#legopartcategoriesread) | **GET** /api/v3/lego/part_categories/{id}/ | Get details about a specific Part Category.
*LegoAPI* | [**legoPartsColorsList**](docs/LegoAPI.md#legopartscolorslist) | **GET** /api/v3/lego/parts/{part_num}/colors/ | Get a list of all Colors a Part has appeared in.
*LegoAPI* | [**legoPartsColorsRead**](docs/LegoAPI.md#legopartscolorsread) | **GET** /api/v3/lego/parts/{part_num}/colors/{color_id}/ | Get details about a specific Part/Color combination.
*LegoAPI* | [**legoPartsColorsSetsList**](docs/LegoAPI.md#legopartscolorssetslist) | **GET** /api/v3/lego/parts/{part_num}/colors/{color_id}/sets/ | Get a list of all Sets the Part/Color combination has appeard in.
*LegoAPI* | [**legoPartsList**](docs/LegoAPI.md#legopartslist) | **GET** /api/v3/lego/parts/ | Get a list of Parts.
*LegoAPI* | [**legoPartsRead**](docs/LegoAPI.md#legopartsread) | **GET** /api/v3/lego/parts/{part_num}/ | Get details about a specific Part.
*LegoAPI* | [**legoSetsAlternatesList**](docs/LegoAPI.md#legosetsalternateslist) | **GET** /api/v3/lego/sets/{set_num}/alternates/ | Get a list of MOCs which are Alternate Builds of a specific Set - i.e. all parts in the MOC can
*LegoAPI* | [**legoSetsList**](docs/LegoAPI.md#legosetslist) | **GET** /api/v3/lego/sets/ | Get a list of Sets, optionally filtered by any of the below parameters.
*LegoAPI* | [**legoSetsMinifigsList**](docs/LegoAPI.md#legosetsminifigslist) | **GET** /api/v3/lego/sets/{set_num}/minifigs/ | Get a list of all Inventory Minifigs in this Set.
*LegoAPI* | [**legoSetsPartsList**](docs/LegoAPI.md#legosetspartslist) | **GET** /api/v3/lego/sets/{set_num}/parts/ | Get a list of all Inventory Parts in this Set.
*LegoAPI* | [**legoSetsRead**](docs/LegoAPI.md#legosetsread) | **GET** /api/v3/lego/sets/{set_num}/ | Get details for a specific Set.
*LegoAPI* | [**legoSetsSetsList**](docs/LegoAPI.md#legosetssetslist) | **GET** /api/v3/lego/sets/{set_num}/sets/ | Get a list of all Inventory Sets in this Set.
*LegoAPI* | [**legoThemesList**](docs/LegoAPI.md#legothemeslist) | **GET** /api/v3/lego/themes/ | Return all Themes
*LegoAPI* | [**legoThemesRead**](docs/LegoAPI.md#legothemesread) | **GET** /api/v3/lego/themes/{id}/ | Return details for a specific Theme

## Documentation For Models

- [Color](docs/Color.md)
- [ColorExternalIds](docs/ColorExternalIds.md)
- [ColorExternalProvider](docs/ColorExternalProvider.md)
- [ColorsList](docs/ColorsList.md)
- [Element](docs/Element.md)
- [ListBase](docs/ListBase.md)
- [Moc](docs/Moc.md)
- [MocList](docs/MocList.md)
- [ModelSet](docs/ModelSet.md)
- [Part](docs/Part.md)
- [PartCategoriesList](docs/PartCategoriesList.md)
- [PartCategory](docs/PartCategory.md)
- [PartColor](docs/PartColor.md)
- [PartColorsList](docs/PartColorsList.md)
- [PartExternalIds](docs/PartExternalIds.md)
- [PartsList](docs/PartsList.md)
- [SetBase](docs/SetBase.md)
- [SetList](docs/SetList.md)
- [SetMinifigsList](docs/SetMinifigsList.md)
- [SetPart](docs/SetPart.md)
- [SetPartMinifig](docs/SetPartMinifig.md)
- [SetPartsList](docs/SetPartsList.md)
- [Theme](docs/Theme.md)
- [ThemesList](docs/ThemesList.md)

<a id="documentation-for-authorization"></a>

## Documentation For Authorization

Authentication schemes defined for the API:
<a id="ApiKeyAuth"></a>

### ApiKeyAuth

- **Type**: API key
- **API key parameter name**: authorization
- **Location**: HTTP header

# How do I migrate from the Swift 5 generator to the swift 6 generator?

<https://openapi-generator.tech/docs/faq-generators#how-do-i-migrate-from-the-swift-5-generator-to-the-swift-6-generator>

### How do I implement bearer token authentication with URLSession on the Swift 6 API client?

<https://openapi-generator.tech/docs/faq-generators#how-do-i-implement-bearer-token-authentication-with-urlsession-on-the-swift-6-api-client>

## Author

Matthias Wallner-Géhri

## Installation

### Swift Package Manager

Add the package to your application's `Package.swift` dependencies or use Xcode's "Add Package" UI.

Package.swift example:

```swift
.package(url: "https://github.com/mpwg/Rebrickable-swift.git", from: "1.0.0"),
```

Then add the product to your target's dependencies:

```swift
.product(name: "RebrickableLegoAPIClient", package: "Rebrickable-swift"),
```

Xcode: File → Add Packages... → enter the repository URL `https://github.com/mpwg/Rebrickable-swift.git` and choose a version or branch.

### Quick start

Import the package and set your API key before making requests:

```swift
import RebrickableLegoAPIClient

// Configure API key (the client will send header: "authorization: key <API_KEY>")
RebrickableLegoAPIClientAPIConfiguration.shared.apiKey = "<your_api_key_here>"

// Then call the generated APIs, for example:
// let response = try await LegoAPI().legoColorsList()
```

Notes:

- The package is built for Swift 6.x and the SPM product is `RebrickableLegoAPIClient`.

- Tests in `Tests/RebrickableLegoAPIClientTests` use the `REBRICKABLE_API_KEY` environment variable when run from CI or the command line; if not set the network tests will be skipped.
